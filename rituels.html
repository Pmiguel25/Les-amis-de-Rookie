<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Création de Rituels</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .left-side {
            display: flex;
            flex-direction: column;
            width: 66.66%;
            height: 100%;
        }

        .top-left {
            display: flex;
            height: 50%;
        }

        .bottom-left {
            display: flex;
            height: 50%;
        }

        .zone-a, .zone-b, .zone-c, .zone-d, .zone-e {
            flex: 1;
            border: 1px solid white;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .zone-a {
            position: relative;
        }

        .target-zone {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 2px dashed white;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .right-side {
            width: 33.33%;
            height: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
        }

        .pictograms {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .pictogram {
            width: 50px;
            height: 50px;
            cursor: grab;
        }

        .cancel-button, .validate-button {
            margin-bottom: 10px;
            padding: 10px 20px;
            cursor: pointer;
        }

        .validate-button {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-side">
            <div class="top-left">
                <div class="zone-a">
                    <div id="target-zone" class="target-zone"></div>
                </div>
                <div class="zone-b"></div>
            </div>
            <div class="bottom-left">
                <div class="zone-c"></div>
                <div class="zone-d"></div>
                <div class="zone-e"></div>
            </div>
        </div>
        <div class="right-side zone-f">
            <button id="cancel-button" class="cancel-button">Annuler</button>
            <button id="validate-button" class="validate-button">Valider</button>
            <div class="pictograms">
                <img src="https://static.arasaac.org/pictograms/2627/2627_500.png" alt="1" class="pictogram" draggable="true">
                <img src="https://static.arasaac.org/pictograms/2628/2628_500.png" alt="2" class="pictogram" draggable="true">
                <img src="https://static.arasaac.org/pictograms/2629/2629_500.png" alt="3" class="pictogram" draggable="true">
                <img src="https://static.arasaac.org/pictograms/2630/2630_500.png" alt="4" class="pictogram" draggable="true">
                <img src="https://static.arasaac.org/pictograms/2631/2631_500.png" alt="5" class="pictogram" draggable="true">
                <img src="https://static.arasaac.org/pictograms/2632/2632_500.png" alt="6" class="pictogram" draggable="true">
                <img src="https://static.arasaac.org/pictograms/2633/2633_500.png" alt="7" class="pictogram" draggable="true">
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pictograms = document.querySelectorAll('.pictogram');
            const targetZone = document.getElementById('target-zone');
            const validateButton = document.getElementById('validate-button');
            const cancelButton = document.getElementById('cancel-button');

            let draggedPictogram = null;
            let initialPositions = {};

            pictograms.forEach(pictogram => {
                pictogram.addEventListener('dragstart', function(event) {
                    draggedPictogram = event.target;
                    initialPositions[draggedPictogram.alt] = { x: event.target.offsetLeft, y: event.target.offsetTop };
                });

                pictogram.addEventListener('dragend', function(event) {
                    const rect = targetZone.getBoundingClientRect();
                    const pictogramRect = event.target.getBoundingClientRect();

                    const isNearTarget = (
                        pictogramRect.left >= rect.left - 50 && pictogramRect.right <= rect.right + 50 &&
                        pictogramRect.top >= rect.top - 50 && pictogramRect.bottom <= rect.bottom + 50
                    );

                    if (isNearTarget) {
                        event.target.style.position = 'absolute';
                        event.target.style.left = `${rect.left + (rect.width - pictogramRect.width) / 2 - event.target.parentElement.getBoundingClientRect().left}px`;
                        event.target.style.top = `${rect.top + (rect.height - pictogramRect.height) / 2 - event.target.parentElement.getBoundingClientRect().top}px`;
                        validateButton.style.display = 'block';
                    } else {
                        event.target.style.position = 'static';
                        validateButton.style.display = 'none';
                    }
                });
            });

            cancelButton.addEventListener('click', function() {
                if (draggedPictogram) {
                    draggedPictogram.style.position = 'static';
                    validateButton.style.display = 'none';
                }
            });

            validateButton.addEventListener('click', function() {
                alert('Étape suivante!');
                // Ajoutez ici le code pour passer à l'étape suivante
            });
        });
    </script>
</body>
</html>
